---
import PageLayout from "@/layout/PageLayout/PageLayout.astro";

const { searchParams } = Astro.url;
const mode = searchParams.get("mode");
const hasGifts = searchParams.has("has_gifts");

export const prerender = false;

const SITE_URL = "/";
---

<script>
  import { balloons } from "balloons-js";
  balloons();
</script>

<PageLayout title="Merci pour votre soutien !">
  <article slot="content">
    <!-- ðŸ…°ï¸ Titles -->
    <h2 class="font-bakbak mb-8 text-balance text-center text-6xl font-bold">Merci pour votre soutien !</h2>
    <!-- ðŸ”  Content -->
    {
      mode === "payment" ? (
        <>
          <p class="mb-3">Votre don de soutien a bien Ã©tÃ© reÃ§u ! ðŸŽ‰</p>
          <p class="mb-3">
            N'hÃ©sitez pas Ã {" "}
            <b>
              nous contacter Ã {" "}
              <a
                class="text-blue underline"
                href={`mailto:${import.meta.env.MAIL_FROM}`}
              >
                {import.meta.env.MAIL_FROM}
              </a>
            </b>
            si vous avez des questions.
          </p>
          <p class="mb-3">
            En attendant, vous pouvez continuer{" "}
            <a
              class="text-blue underline"
              href={SITE_URL}
            >
              Ã  naviguer sur notre site
            </a>{" "}
            pour dÃ©couvrir nos derniers articles et vidÃ©os ðŸ˜‰
          </p>
        </>
      ) : mode === "subscription" ? (
        <>
          <p class="mb-5 text-balance text-center text-2xl font-bold">Votre abonnement est bien activÃ© ! ðŸŽ‰</p>
          {hasGifts ? (
            <>
              <p class="mb-3">
                Vous recevrez d'ici quelques semaines vos <b>contreparties</b> Ã  l'adresse que vous avez renseignÃ©e lors
                de votre paiement. N'hÃ©sitez pas Ã {" "}
                <b>
                  nous contacter Ã {" "}
                  <a
                    class="text-blue underline"
                    href={`mailto:${import.meta.env.MAIL_FROM}`}
                  >
                    {import.meta.env.MAIL_FROM}
                  </a>
                </b>
                si vous avez des questions ou besoin d'effectuer une modification.
              </p>
            </>
          ) : (
            <p class="mb-3">
              N'hÃ©sitez pas Ã {" "}
              <b>
                nous contacter Ã {" "}
                <a
                  class="text-blue underline"
                  href={`mailto:${import.meta.env.MAIL_FROM}`}
                >
                  {import.meta.env.MAIL_FROM}
                </a>
              </b>
              si vous avez des questions.
            </p>
          )}
          <p class="mb-3">
            En attendant, vous pouvez continuer
            <a
              class="text-blue underline"
              href={SITE_URL}
            >
              Ã  naviguer sur notre site
            </a>{" "}
            pour dÃ©couvrir nos derniers articles et vidÃ©os ðŸ˜‰
          </p>
        </>
      ) : null
    }
  </article>
</PageLayout>
