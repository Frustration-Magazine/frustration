---
import SubscriptionCard from "./_components/Description/SubscriptionCard.astro";
import CheckoutFormWrapper from "./_components/Form/CheckoutFormWrapper";

import { Image } from "astro:assets";
import Tipeee from "./_assets/tipeee.webp";
import ParasitesCover from "./_assets/parasites.webp";
import Numero2025 from "./_assets/numero_2025.webp";

import PageLayout from "@/layout/PageLayout/PageLayout.astro";

import { SUBSCRIPTIONS } from "./_models";

import { cn } from "@/lib/utils";

const { mini, maxi, medium } = SUBSCRIPTIONS;
const coverImage = "https://frustrationmagazine.fr/covers/numero_2025.webp";
---

<PageLayout
  title="S'abonner à Frustration Magazine"
  coverImage={coverImage}>
  <article slot="content">
    <!-- 🅰️ Titles -->
    <h2
      class={cn(
        "text-4xl mb-2 text-pretty text-center font-bold uppercase font-bakbak",
        "sm:text-5xl",
        "sm:text-5xl md:zs-8",
        "lg:text-7xl",
      )}>
      Frustration a besoin de vous !
    </h2>
    <h3
      class={cn(
        "text-pretty text-center font-light uppercase font-bakbak",
        "text-2xl",
        "lg:text-4xl",
      )}>
      Faites-nous grandir d'un coup 🌱
    </h3>
    <!-- 🔠 Text -->
    <article
      class={cn(
        "mt-8 md:mt-10 mx-auto w-[700px] max-w-[90vw] font-open-sans tracking-wide space-y-4",
        "md:text-lg",
      )}>
      <p>
        Frustration est un <b>média d’opinion, engagé et apartisan</b> : financés
        à 100% par nos lectrices et lecteurs, nous ne percevons ni subventions ni
        gros dons de millionaires. Nous ne touchons aucune recette publicitaire sur
        nos contenus. Par ailleurs, notre média en ligne est<b>
          entièrement gratuit et accessible à toutes et tous</b
        >. Ces conditions nous semblent indispensables pour pouvoir défendre un
        <b>point de vue radical, anticapitaliste, féministe et antiraciste</b>.
      </p>
      <p>
        Toutefois pour sortir d’un modèle encore très artisanal, très fragile et
        précaire, qui n’est pas viable sur le moyen terme, notamment du fait de
        l’augmentation très importante de notre lectorat en peu de temps, nous
        avons besoin de vous. Nous lançons donc cette campagne <b
          >pour atteindre 2 000 abonné.e.s</b
        >, c’est-à-dire 2 000 personnes qui, en donnant chaque mois 5, 9 ou 15€
        permettent à tout le monde l’accès à un média 100% gratuit et sans
        publicité, libre de ses convictions et de son ton.
      </p>

      <p>Voici plus précisément à quoi sera consacré ce budget :</p>
      <ul class="list-disc space-y-2">
        <li>
          Salarier une équipe de trois personnes à temps plein afin d’avoir une
          vraie continuité de publications tout en assurant des bonnes
          conditions de travail ;
        </li>
        <li>
          Le recours à davantage de chroniqueuses et chroniqueurs, ainsi qu’à
          des piges journalistiques ;
        </li>
        <li>La production beaucoup plus régulière de vidéos ;</li>
        <li>
          L’organisation d’évènements libres d’accès dans plusieurs villes et
          villages de France et de Belgique ;
        </li>
        <li>
          Un site optimisé capable de recevoir l’afflux de nouveaux et nouvelles
          internautes (+67% en un an) ;
        </li>
        <li>
          Le recours à un prestataire spécialisé pour l’envoi des cadeaux aux
          abonnés permettent une gestion plus fluide et efficace et des
          réceptions plus rapides ;
        </li>
        <li>Le recours à un cabinet comptable ;</li>
        <li>La co-édition du numéro annuel papier ;</li>
        <li>Les frais de notre plateforme ultra-sécurisée pour les dons ;</li>
      </ul>
      <p>
        Avec votre aide, vos relais, vos mots de soutiens, vos messages sur les
        réseaux sociaux, nous espérons atteindre cet objectif : <b
          >2 000 abonnés pour permettre à Frustration de continuer et d’aller
          plus loin !</b
        >
      </p>
    </article>
    <h3
      class={cn(
        "mt-14 text-pretty text-center font-bold uppercase font-bakbak",
        "text-4xl mb-6",
        "sm:text-5xl sm:mb-6",
        "md:text-5xl md:mb-8",
        "lg:text-6xl lg:mb-20",
      )}>
      Nos formules de soutien
    </h3>
    <!-- 🃏 CARDS -->
    <div
      class={cn(
        "relative w-[1100px] max-w-[90vw] left-1/2 -translate-x-1/2 grid gap-6",
        "grid-cols-1",
        "lg:grid-cols-3",
      )}>
      <!-- 🤏 MINI -->
      <SubscriptionCard {...mini}>
        <p>
          ✊ Notre <b>newsletter</b> régulière
        </p>
      </SubscriptionCard>

      <!-- 💪 MEDIUM -->
      <SubscriptionCard
        {...medium}
        additionalClass="lg:-translate-y-10">
        <p>
          ✊ Notre <b>newsletter</b> régulière
        </p>
        <p>
          🗞️ <b>Numéro papier 2025</b>
        </p>
        <div class="w-full flex justify-center mt-auto">
          <Image
            class="drop-shadow-lg"
            width="110"
            height="110"
            src={Numero2025}
            alt="Couverture du numéro papier Frustration 2025"
          />
        </div>
      </SubscriptionCard>

      <!-- 💥 MAXI -->
      <SubscriptionCard {...maxi}>
        <p>
          ✊ Notre <b>newsletter</b> régulière
        </p>
        <p>
          🗞️ <b>Numéro papier 2025</b>
        </p>
        <p>
          📖 1 exemplaire de <b><i>Parasites</i></b>
        </p>
        <div class="w-full mx-auto flex justify-center items-center gap-4">
          <Image
            class="drop-shadow-lg"
            width="110"
            height="110"
            src={Numero2025}
            alt="Couverture du numéro papier Frustration 2025"
          />
          <span class={cn("text-xl", "lg:text-3xl")}>+</span>
          <Image
            class="drop-shadow-lg"
            width="100"
            height="100"
            src={ParasitesCover}
            alt="Couverture de Parasites"
          />
        </div>
      </SubscriptionCard>
    </div>

    <a
      class="mt-24 mb-8 block text-center"
      href="https://fr.tipeee.com/frustration-magazine"
      target="_blank">
      <h5
        class={cn(
          "font-montserrat text-balance font-bold mb-4",
          "text-2xl",
          "md:text-3xl",
        )}>
        Vous pouvez aussi nous soutenir sur notre Tipeee 😃 <br />
        👇
      </h5>
      <Image
        src={Tipeee}
        class="mx-auto"
        width="200"
        alt="Logo de la plateforme de financement participatif Tipeee"
      />
    </a>
    <!-- <MarqueeDemo
        client:load
        reviews={reviews}
      /> -->

    <!-- 📝 💰 FORM 💰 -->
    <div class={cn("mt-6 mb-6", "md:mt-12 md:mb-12")}>
      <CheckoutFormWrapper client:load />
    </div>

    <p class="mt-16 bg-green-100 text-green-600 font-semibold p-4">
      💡 Vous pouvez à tout moment modifier, mettre à jour ou résilier votre
      abonnement sur notre portail abonnés <a
        class="underline text-blue"
        href="https://billing.stripe.com/p/login/14kdTMeda0rk9gc9AA"
        target="_blank"
        >en cliquant à cette adresse</a
      > et en utilisant l'adresse renseignée lors de votre souscription. En cas de
      difficulté ou pour toute autre question, contactez-nous à <a
        class="underline text-blue"
        href="mailto:redaction@frustrationmagazine.fr"
        >redaction@frustrationmagazine.fr.</a
      >
    </p>
  </article>
</PageLayout>
