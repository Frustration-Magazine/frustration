---
import { cn } from "@/libs/tailwind";
import SectionTitle from "../SectionTitle.astro";
import Card from "./Card.astro";

const { posts } = Astro.props;
---

<style>
  .wrapper {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(max(30%, 300px), 1fr));
  }
</style>
<section
  class={cn(
    "h-fit w-full m-auto mt-12 max-w-[2200px]",
    "px-2 ",
    "sm:px-4",
    "md:mt-20",
    "lg:mt-24",
    "xl:mt-28",
  )}>
  <SectionTitle>À la une</SectionTitle>
  {/* Thumbnails */}
  <div class="wrapper w-full gap-4">
    {posts.map((post: any) => <Card {...post} />)}
  </div>
  {/* ⬜ Tous les articles */}
  <a
    href="/posts"
    class={cn(
      "relative mx-auto mt-[5vh] w-fit block overflow-hidden rounded-[20px]",
      "before:absolute before:h-full before:w-full before:animate-disco before:bg-[conic-gradient(#faf7c2,#FFF200,#898106)] before:blur-sm before:scale-x-10 before:scale-y-6",
    )}>
    <span
      class={cn(
        "relative m-1.5 block rounded-[13px] bg-black px-10 pb-3 pt-4 font-bebas  uppercase text-frustration-yellow ",
        "text-4xl",
        "md:text-5xl",
      )}>
      Tous les articles
    </span>
  </a>
</section>
