---
// 🔩 Base
import { ViewTransitions } from "astro:transitions";
import { fade } from "astro:transitions";

// 🚀 SEO
// import SpeedInsights from "@vercel/speed-insights/astro";
import Head from "../Head.astro";

// 🧱 Components
import Header from "./Header/Header.astro";
import Footer from "./Footer/Footer.astro";

// 🖊️ Fonts
import "@fontsource/open-sans/300.css";
import "@fontsource/open-sans/400.css";
import "@fontsource/open-sans/700.css";
import "@fontsource/bebas-neue";
import "@fontsource/bakbak-one";
import "@fontsource/montserrat";
import "@fontsource/roboto";

// 🎨 Styles
import "@web/styles/reset.css";
import "@web/styles/global.css";

// 🧰 Config
const DEFAULT_IMAGE = "/img/default.png";
const DEFAULT_DESCRIPTION =
  "Frustration Magazine, média indépendant et offensif.";

interface Props {
  title: string;
  description?: string;
  image?: string;
  displayBanner?: boolean;
}

const {
  title,
  description = DEFAULT_DESCRIPTION,
  image = DEFAULT_IMAGE,
  displayBanner = true,
} = Astro.props;
---

<!doctype html>
<html
  lang="fr"
  class="bg-black">
  <Head
    title={title}
    description={description}
    ogImage="https://www.frustrationmagazine.fr/wp-content/uploads/2024/11/preview_small_rs.jpg"
  />

  <meta charset="UTF-8" />
  <link
    rel="icon"
    type="image/x-icon"
    href="/img/favicon_light.png"
  />
  <meta
    name="viewport"
    content="width=device-width"
  />
  <meta
    name="generator"
    content={Astro.generator}
  />
  <meta
    name="description"
    content={description}
  />
  <meta
    property="og:title"
    content={`Frustration Magazine - ${title}`}
  />
  <meta
    property="og:image"
    content={image}
  />
  <title>Frustration Magazine - {title}</title>
  <ViewTransitions />

  <body class="min-h-screen bg-white flex flex-col">
    <Header
      displayBanner={displayBanner}
      transition:persist
    />
    <main class="flex-grow flex flex-col">
      <slot transition:animate={fade({ duration: "0.4s" })} />
    </main>
    <Footer transition:persist />
    <!-- <SpeedInsights /> -->
  </body>
</html>
